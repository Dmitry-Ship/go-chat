package domain

import (
	"math/rand"
	"strings"
	"time"
)

type Notification struct {
	Type string      `json:"type"`
	Data interface{} `json:"data"`
}

type User struct {
	Id     int64             `json:"id"`
	Avatar string            `json:"avatar"`
	Name   string            `json:"name"`
	Send   chan Notification `json:"-"`
}

func getRandomEmoji() string {
	emojis := []string{
		"ğŸ§‘",
		"ğŸ’‡â€â™€ï¸",
		"ğŸ’‡â€â™‚ï¸",
		"ğŸ’‡",
		"ğŸ’†â€â™€ï¸",
		"ğŸ’†â€â™‚ï¸",
		"ğŸ’†",
		"ğŸ§Ÿâ€â™€ï¸",
		"ğŸ§Ÿâ€â™‚ï¸",
		"ğŸ§Ÿ",
		"ğŸ§â€â™€ï¸",
		"ğŸ§â€â™‚ï¸",
		"ğŸ§",
		"ğŸ§›â€â™€ï¸",
		"ğŸ§›â€â™‚ï¸",
		"ğŸ¦¹â€â™€ï¸",
		"ğŸ¦¹â€â™‚ï¸",
		"ğŸ¦¸â€â™€ï¸",
		"ğŸ‘±",
		"ğŸ‘¨",
		"ğŸ§”",
		"ğŸ‘¨â€ğŸ¦°",
		"ğŸ‘¨â€ğŸ¦±",
		"ğŸ‘¨â€ğŸ¦³",
		"ğŸ‘¨â€ğŸ¦²",
		"ğŸ‘©",
		"ğŸ‘©â€ğŸ¦°",
		"ğŸ§‘â€ğŸ¦°",
		"ğŸ‘©â€ğŸ¦±",
		"ğŸ§‘â€ğŸ¦±",
		"ğŸ‘©â€ğŸ¦³",
		"ğŸ§‘â€ğŸ¦³",
		"ğŸ‘©â€ğŸ¦²",
		"ğŸ§‘â€ğŸ¦²",
		"ğŸ‘±â€â™€ï¸",
		"ğŸ‘±â€â™‚ï¸",
		"ğŸ§“",
		"ğŸ‘´",
		"ğŸ‘µ",
		"ğŸ™",
		"ğŸ™â€â™‚ï¸",
		"ğŸ™â€â™€ï¸",
		"ğŸ™",
		"ğŸ™â€â™‚ï¸",
		"ğŸ™â€â™€ï¸",
		"ğŸ™…",
		"ğŸ™…â€â™‚ï¸",
		"ğŸ™…â€â™€ï¸",
		"ğŸ™†",
		"ğŸ™†â€â™‚ï¸",
		"ğŸ™†â€â™€ï¸",
		"ğŸ’",
		"ğŸ’â€â™‚ï¸",
		"ğŸ’â€â™€ï¸",
		"ğŸ™‹",
		"ğŸ™‹â€â™‚ï¸",
		"ğŸ™‹â€â™€ï¸",
		"ğŸ§â€â™‚ï¸",
		"ğŸ§â€â™€ï¸",
		"ğŸ™‡â€â™‚ï¸",
		"ğŸ™‡â€â™€ï¸",
		"ğŸ¤¦â€â™‚ï¸",
		"ğŸ¤¦â€â™€ï¸",
		"ğŸ¤·â€â™‚ï¸",
		"ğŸ¤·â€â™€ï¸",
		"ğŸ‘¨â€âš•ï¸",
		"ğŸ‘©â€âš•ï¸",
		"ğŸ‘¨â€ğŸ“",
		"ğŸ‘©â€ğŸ“",
		"ğŸ‘¨â€ğŸ«",
		"ğŸ‘©â€ğŸ«",
		"ğŸ‘¨â€âš–ï¸",
		"ğŸ‘©â€âš–ï¸",
		"ğŸ‘¨â€ğŸŒ¾",
		"ğŸ‘©â€ğŸŒ¾",
		"ğŸ‘¨â€ğŸ³",
		"ğŸ‘©â€ğŸ³",
		"ğŸ‘¨â€ğŸ”§",
		"ğŸ‘©â€ğŸ”§",
		"ğŸ‘¨â€ğŸ­",
		"ğŸ‘©â€ğŸ­",
		"ğŸ‘¨â€ğŸ’¼",
		"ğŸ‘©â€ğŸ’¼",
		"ğŸ‘¨â€ğŸ”¬",
		"ğŸ‘©â€ğŸ”¬",
		"ğŸ‘¨â€ğŸ’»",
		"ğŸ‘©â€ğŸ’»",
		"ğŸ‘¨â€ğŸ¤",
		"ğŸ‘©â€ğŸ¤",
		"ğŸ‘¨â€ğŸ¨",
		"ğŸ‘©â€ğŸ¨",
		"ğŸ‘¨â€âœˆï¸",
		"ğŸ‘©â€âœˆï¸",
		"ğŸ‘¨â€ğŸš€",
		"ğŸ‘©â€ğŸš€",
		"ğŸ‘¨â€ğŸš’",
		"ğŸ‘©â€ğŸš’",
		"ğŸ‘®â€â™‚ï¸",
		"ğŸ‘®â€â™€ï¸",
		"ğŸ•µï¸â€â™‚ï¸",
		"ğŸ•µï¸â€â™€ï¸",
		"ğŸ’‚â€â™‚ï¸",
		"ğŸ’‚â€â™€ï¸",
		"ğŸ¥·",
		"ğŸ‘·â€â™‚ï¸",
		"ğŸ‘·â€â™€ï¸",
		"ğŸ¤´",
		"ğŸ‘¸",
		"ğŸ‘³â€â™‚ï¸",
		"ğŸ‘³â€â™€ï¸",
		"ğŸ§•",
		"ğŸ¤µâ€â™‚ï¸",
		"ğŸ¤µâ€â™€ï¸",
		"ğŸ‘°",
		"ğŸ‘°â€â™‚ï¸",
		"ğŸ‘°â€â™€ï¸",
		"ğŸ¤°",
		"ğŸ¤±",
		"ğŸ‘©â€ğŸ¼",
		"ğŸ‘¨â€ğŸ¼",
		"ğŸ§‘â€ğŸ¼",
		"ğŸ‘¼",
		"ğŸ…",
		"ğŸ¤¶",
		"ğŸ§‘â€ğŸ„",
		"ğŸ¦¸",
		"ğŸ¦¸â€â™‚ï¸",
		"ğŸ¦¸â€â™€ï¸",
	}
	randomIndex := rand.Intn(len(emojis))
	return emojis[randomIndex]
}

func getRandomWord() string {
	randomLetters := ""
	for i := 0; i < 6; i++ {
		randomLetters += string(rune(rand.Intn(26) + 97))

		if i == 0 {
			randomLetters = strings.ToUpper(randomLetters)
		}

	}

	return randomLetters
}

func NewUser() *User {
	return &User{
		Id:     int64(time.Now().UnixNano()),
		Avatar: getRandomEmoji(),
		Name:   getRandomWord() + " " + getRandomWord(),
		Send:   make(chan Notification, 256),
	}
}

func (c *User) NewNotification(notificationType string, data interface{}) Notification {
	return Notification{
		Type: notificationType,
		Data: data,
	}
}
